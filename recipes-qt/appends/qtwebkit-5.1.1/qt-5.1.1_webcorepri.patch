Index: qtwebkit-opensource-src-5.1.1/Source/WebCore/WebCore.pri
===================================================================
--- qtwebkit-opensource-src-5.1.1.orig/Source/WebCore/WebCore.pri
+++ qtwebkit-opensource-src-5.1.1/Source/WebCore/WebCore.pri
@@ -10,10 +10,23 @@ SOURCE_DIR = $${ROOT_WEBKIT_DIR}/Source/
 QT *= network sql core-private gui-private
 
 
+DEFINES += ENABLE_DLNA_VIDEO_PLAYER
 enable?(WINDOWLESS_FLASH_PLUGIN) {
     QT *= opengl
 }
 
+#COMCAST MODIFICATION BEGIN [WEBRTC]
+enable?(MEDIA_STREAM) {
+    QT *= webrtc
+}
+
+INCLUDEPATH += \
+    $$SOURCE_DIR/Modules/mediastream \
+    $$SOURCE_DIR/platform/mediastream \
+    $$SOURCE_DIR/platform/mediastream/qt \
+
+#COMCAST MODIFICATION END [WEBRTC]
+
 WEBCORE_GENERATED_SOURCES_DIR = $${ROOT_BUILD_DIR}/Source/WebCore/$${GENERATED_SOURCES_DESTDIR}
 
 INCLUDEPATH += \
@@ -181,6 +194,12 @@ use?(GSTREAMER) {
     }
 }
 
+#COMCAST MODIFICATION BEGIN [DLNA]
+contains(DEFINES, ENABLE_DLNA_VIDEO_PLAYER) {
+        LIBS += -lrmfbase -lhnsource -lmediaplayersink -ldumpfilesink
+}
+#COMCAST MODIFICATION END [DLNA]
+
 enable?(VIDEO) {
     use?(GSTREAMER) {
         INCLUDEPATH += $$SOURCE_DIR/platform/graphics/gstreamer
